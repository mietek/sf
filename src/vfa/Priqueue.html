<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="common/css/sf.css" rel="stylesheet" type="text/css" />
<title>Priqueue: Priority Queues</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/vfa.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 3: Verified Functional Algorithms</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
   <li class='section_name'><a href='deps.html'>Roadmap</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">Priqueue<span class="subtitle">Priority Queues</span></h1>

<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

 A <i>priority queue</i> is an abstract data type with the following operations:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">empty</span>:</span> <span class="inlinecode"><span class="id" title="var">priqueue</span></span> <span class="inlinecode"></span>

</li>
<li> <span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">insert</span>:</span> <span class="inlinecode"><span class="id" title="var">key</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">priqueue</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">priqueue</span></span> <span class="inlinecode"></span>

</li>
<li> <span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">delete_max</span>:</span> <span class="inlinecode"><span class="id" title="var">priqueue</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">option</span></span> <span class="inlinecode">(<span class="id" title="var">key</span></span> <span class="inlinecode">×</span> <span class="inlinecode"><span class="id" title="var">priqueue</span>)</span> <span class="inlinecode"></span>

</li>
</ul>

<div class="paragraph"> </div>

  The idea is that you can find (and remove) the highest-priority element.
  Priority queues have applications in:
<ul class="doclist">
<li> Discrete-event simulations: The highest-priority event is the
     one whose scheduled time is the earliest.  Simulating one event
     causes new events to be scheduled in the future.

</li>
<li> Sorting: <i>heap sort</i> puts all the elements in a priority queue,
     then removes them one at a time.

</li>
<li> Computational geometry:  algorithms such as <i>convex hull</i> use
     priority queues.

</li>
<li> Graph algorithms: Dijkstra's algorithm for finding the shortest path
     uses a priority queue.

</li>
</ul>

<div class="paragraph"> </div>

  We will be considering <i>mergeable</i> priority queues, with one
   additional operator: 

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">merge</span>:</span> <span class="inlinecode"><span class="id" title="var">priqueue</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">priqueue</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">priqueue</span></span> <span class="inlinecode"></span>

</li>
</ul>

<div class="paragraph"> </div>

  The classic data structure for priority queues is the "heap", a balanced
  binary tree in which the the key at any node is <i>bigger</i> than all the 
  keys in nodes below it.  With heaps, <span class="inlinecode"><span class="id" title="var">empty</span></span> is constant time,
  <span class="inlinecode"><span class="id" title="var">insert</span></span> and <span class="inlinecode"><span class="id" title="var">delete_max</span></span> are logN time.  But <span class="inlinecode"><span class="id" title="var">merge</span></span> takes NlogN
  time, as one must take all the elements out of one queue and 
  insert them into the other queue.

<div class="paragraph"> </div>

  Another way to do priority queues is by <i>balanced binary search trees</i>
  (such as red-black trees); again, <span class="inlinecode"><span class="id" title="var">empty</span></span> is constant time,
  <span class="inlinecode"><span class="id" title="var">insert</span></span> and <span class="inlinecode"><span class="id" title="var">delete_max</span></span> are logN time, and <span class="inlinecode"><span class="id" title="var">merge</span></span> takes NlogN
  time, as one must take all the elements out of one queue and 
  insert them into the other queue.

<div class="paragraph"> </div>

  In the <i>Binom</i> chapter we will examine an algorithm in which 
  <span class="inlinecode"><span class="id" title="var">empty</span></span> is constant time,  <span class="inlinecode"><span class="id" title="var">insert</span></span>, <span class="inlinecode"><span class="id" title="var">delete_max</span></span>, and <span class="inlinecode"><span class="id" title="var">merge</span></span>
  are logN time.

<div class="paragraph"> </div>

  In <i>this</i> chapter we will consider a much simpler (and slower)
  implementation, using unsorted lists, in which:
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">empty</span></span> takes constant time

</li>
<li> <span class="inlinecode"><span class="id" title="var">insert</span></span> takes constant time

</li>
<li> <span class="inlinecode"><span class="id" title="var">delete_max</span></span> takes linear time

</li>
<li> <span class="inlinecode"><span class="id" title="var">merge</span></span> takes linear time 

</li>
</ul>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a id="lab228"></a><h1 class="section">Module Signature</h1>
 This is the "signature" of a correct implementation of priority queues
 where the keys are natural numbers.   Using <span class="inlinecode"><span class="id" title="var">nat</span></span> for the key type is
 a bit silly, since the comparison function Nat.ltb takes linear time
 in the value of the numbers!  But you have already seen in the
 <a href="Extract.html"><span class="inlineref">Extract</span></a> chapter how to define these kinds of algorithms
 on key types that have efficient comparisons, so in this chapter
 (and the <a href="Binom.html"><span class="inlineref">Binom</span></a> chapter) we simply won't worry about the
 time per comparison. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VFA</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Perm.html#"><span class="id" title="library">Perm</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PRIQUEUE" class="idref" href="#PRIQUEUE"><span class="id" title="module">PRIQUEUE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PRIQUEUE.priqueue" class="idref" href="#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a>: <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PRIQUEUE.key" class="idref" href="#PRIQUEUE.key"><span class="id" title="definition">key</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PRIQUEUE.empty" class="idref" href="#PRIQUEUE.empty"><span class="id" title="axiom">empty</span></a>: <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PRIQUEUE.insert" class="idref" href="#PRIQUEUE.insert"><span class="id" title="axiom">insert</span></a>: <a class="idref" href="Priqueue.html#PRIQUEUE.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PRIQUEUE.delete_max" class="idref" href="#PRIQUEUE.delete_max"><span class="id" title="axiom">delete_max</span></a>: <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Priqueue.html#PRIQUEUE.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PRIQUEUE.merge" class="idref" href="#PRIQUEUE.merge"><span class="id" title="axiom">merge</span></a>: <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PRIQUEUE.priq" class="idref" href="#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a>: <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PRIQUEUE.Abs" class="idref" href="#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a>: <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PRIQUEUE.can_relate" class="idref" href="#PRIQUEUE.can_relate"><span class="id" title="axiom">can_relate</span></a>:  <span class="id" title="keyword">∀</span> <a id="p:8" class="idref" href="#p:8"><span class="id" title="binder">p</span></a>, <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#p:8"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="al:9" class="idref" href="#al:9"><span class="id" title="binder">al</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> <a class="idref" href="Priqueue.html#p:8"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#al:9"><span class="id" title="variable">al</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PRIQUEUE.abs_perm" class="idref" href="#PRIQUEUE.abs_perm"><span class="id" title="axiom">abs_perm</span></a>: <span class="id" title="keyword">∀</span> <a id="p:11" class="idref" href="#p:11"><span class="id" title="binder">p</span></a> <a id="al:12" class="idref" href="#al:12"><span class="id" title="binder">al</span></a> <a id="bl:13" class="idref" href="#bl:13"><span class="id" title="binder">bl</span></a>, <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#p:11"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> <a class="idref" href="Priqueue.html#p:11"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#al:12"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> <a class="idref" href="Priqueue.html#p:11"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#bl:13"><span class="id" title="variable">bl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Priqueue.html#al:12"><span class="id" title="variable">al</span></a> <a class="idref" href="Priqueue.html#bl:13"><span class="id" title="variable">bl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span>  <a id="PRIQUEUE.empty_priq" class="idref" href="#PRIQUEUE.empty_priq"><span class="id" title="axiom">empty_priq</span></a>: <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.empty"><span class="id" title="axiom">empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PRIQUEUE.empty_relate" class="idref" href="#PRIQUEUE.empty_relate"><span class="id" title="axiom">empty_relate</span></a>:  <a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PRIQUEUE.insert_priq" class="idref" href="#PRIQUEUE.insert_priq"><span class="id" title="axiom">insert_priq</span></a>: <span class="id" title="keyword">∀</span> <a id="k:17" class="idref" href="#k:17"><span class="id" title="binder">k</span></a> <a id="p:18" class="idref" href="#p:18"><span class="id" title="binder">p</span></a>, <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#p:18"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> (<a class="idref" href="Priqueue.html#PRIQUEUE.insert"><span class="id" title="axiom">insert</span></a> <a class="idref" href="Priqueue.html#k:17"><span class="id" title="variable">k</span></a> <a class="idref" href="Priqueue.html#p:18"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PRIQUEUE.insert_relate" class="idref" href="#PRIQUEUE.insert_relate"><span class="id" title="axiom">insert_relate</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:20" class="idref" href="#p:20"><span class="id" title="binder">p</span></a> <a id="al:21" class="idref" href="#al:21"><span class="id" title="binder">al</span></a> <a id="k:22" class="idref" href="#k:22"><span class="id" title="binder">k</span></a>, <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#p:20"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> <a class="idref" href="Priqueue.html#p:20"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#al:21"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> (<a class="idref" href="Priqueue.html#PRIQUEUE.insert"><span class="id" title="axiom">insert</span></a> <a class="idref" href="Priqueue.html#k:22"><span class="id" title="variable">k</span></a> <a class="idref" href="Priqueue.html#p:20"><span class="id" title="variable">p</span></a>) (<a class="idref" href="Priqueue.html#k:22"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="Priqueue.html#al:21"><span class="id" title="variable">al</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PRIQUEUE.delete_max_None_relate" class="idref" href="#PRIQUEUE.delete_max_None_relate"><span class="id" title="axiom">delete_max_None_relate</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:24" class="idref" href="#p:24"><span class="id" title="binder">p</span></a>, <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#p:24"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> <a class="idref" href="Priqueue.html#p:24"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.delete_max"><span class="id" title="axiom">delete_max</span></a> <a class="idref" href="Priqueue.html#p:24"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PRIQUEUE.delete_max_Some_priq" class="idref" href="#PRIQUEUE.delete_max_Some_priq"><span class="id" title="axiom">delete_max_Some_priq</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:26" class="idref" href="#p:26"><span class="id" title="binder">p</span></a> <a id="q:27" class="idref" href="#q:27"><span class="id" title="binder">q</span></a> <a id="k:28" class="idref" href="#k:28"><span class="id" title="binder">k</span></a>, <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#p:26"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.delete_max"><span class="id" title="axiom">delete_max</span></a> <a class="idref" href="Priqueue.html#p:26"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#k:28"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Priqueue.html#q:27"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#q:27"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PRIQUEUE.delete_max_Some_relate" class="idref" href="#PRIQUEUE.delete_max_Some_relate"><span class="id" title="axiom">delete_max_Some_relate</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="p:30" class="idref" href="#p:30"><span class="id" title="binder">p</span></a> <a id="q:31" class="idref" href="#q:31"><span class="id" title="binder">q</span></a>: <a class="idref" href="Priqueue.html#PRIQUEUE.priqueue"><span class="id" title="axiom">priqueue</span></a>) <a id="k:32" class="idref" href="#k:32"><span class="id" title="binder">k</span></a> (<a id="pl:33" class="idref" href="#pl:33"><span class="id" title="binder">pl</span></a> <a id="ql:34" class="idref" href="#ql:34"><span class="id" title="binder">ql</span></a>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.key"><span class="id" title="definition">key</span></a>), <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#p:30"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> <a class="idref" href="Priqueue.html#p:30"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#pl:33"><span class="id" title="variable">pl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#PRIQUEUE.delete_max"><span class="id" title="axiom">delete_max</span></a> <a class="idref" href="Priqueue.html#p:30"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#k:32"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Priqueue.html#q:31"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> <a class="idref" href="Priqueue.html#q:31"><span class="id" title="variable">q</span></a> <a class="idref" href="Priqueue.html#ql:34"><span class="id" title="variable">ql</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Priqueue.html#pl:33"><span class="id" title="variable">pl</span></a> (<a class="idref" href="Priqueue.html#k:32"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="Priqueue.html#ql:34"><span class="id" title="variable">ql</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#ge"><span class="id" title="definition">ge</span></a> <a class="idref" href="Priqueue.html#k:32"><span class="id" title="variable">k</span></a>) <a class="idref" href="Priqueue.html#ql:34"><span class="id" title="variable">ql</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PRIQUEUE.merge_priq" class="idref" href="#PRIQUEUE.merge_priq"><span class="id" title="axiom">merge_priq</span></a>: <span class="id" title="keyword">∀</span> <a id="p:36" class="idref" href="#p:36"><span class="id" title="binder">p</span></a> <a id="q:37" class="idref" href="#q:37"><span class="id" title="binder">q</span></a>, <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#p:36"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#q:37"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> (<a class="idref" href="Priqueue.html#PRIQUEUE.merge"><span class="id" title="axiom">merge</span></a> <a class="idref" href="Priqueue.html#p:36"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#q:37"><span class="id" title="variable">q</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PRIQUEUE.merge_relate" class="idref" href="#PRIQUEUE.merge_relate"><span class="id" title="axiom">merge_relate</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:39" class="idref" href="#p:39"><span class="id" title="binder">p</span></a> <a id="q:40" class="idref" href="#q:40"><span class="id" title="binder">q</span></a> <a id="pl:41" class="idref" href="#pl:41"><span class="id" title="binder">pl</span></a> <a id="ql:42" class="idref" href="#ql:42"><span class="id" title="binder">ql</span></a> <a id="al:43" class="idref" href="#al:43"><span class="id" title="binder">al</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#p:39"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.priq"><span class="id" title="axiom">priq</span></a> <a class="idref" href="Priqueue.html#q:40"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> <a class="idref" href="Priqueue.html#p:39"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#pl:41"><span class="id" title="variable">pl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> <a class="idref" href="Priqueue.html#q:40"><span class="id" title="variable">q</span></a> <a class="idref" href="Priqueue.html#ql:42"><span class="id" title="variable">ql</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#PRIQUEUE.Abs"><span class="id" title="axiom">Abs</span></a> (<a class="idref" href="Priqueue.html#PRIQUEUE.merge"><span class="id" title="axiom">merge</span></a> <a class="idref" href="Priqueue.html#p:39"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#q:40"><span class="id" title="variable">q</span></a>) <a class="idref" href="Priqueue.html#al:43"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Priqueue.html#al:43"><span class="id" title="variable">al</span></a> (<a class="idref" href="Priqueue.html#pl:41"><span class="id" title="variable">pl</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="Priqueue.html#ql:42"><span class="id" title="variable">ql</span></a>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Priqueue.html#PRIQUEUE"><span class="id" title="module">PRIQUEUE</span></a>.<br/>
</div>

<div class="doc">
Take some time to consider whether this is the right specification!
    As always, if we get the specification wrong, then proofs of 
    "correctness" are not so useful.

<div class="paragraph"> </div>

<a id="lab229"></a><h1 class="section">Implementation</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="List_Priqueue" class="idref" href="#List_Priqueue"><span class="id" title="module">List_Priqueue</span></a> &lt;: <a class="idref" href="Priqueue.html#PRIQUEUE"><span class="id" title="module">PRIQUEUE</span></a>.<br/>
</div>

<div class="doc">
Now we are responsible for providing <span class="inlinecode"><span class="id" title="var">Definitions</span></span> of all
  those <span class="inlinecode"><span class="id" title="keyword">Parameters</span></span>, and proving <span class="inlinecode"><span class="id" title="var">Theorems</span></span> for all those <span class="inlinecode"><span class="id" title="keyword">Axioms</span></span>,
  so that the values in the <span class="inlinecode"><span class="id" title="keyword">Module</span></span> match the types in
  the <span class="inlinecode"><span class="id" title="keyword">Module</span></span> <span class="inlinecode"><span class="id" title="keyword">Type</span></span>.   If we try to <span class="inlinecode"><span class="id" title="keyword">End</span></span> <span class="inlinecode"><span class="id" title="var">List_Priqueue</span></span> before
  everything is provided, we'll get an error.  Uncomment the next
  line and try it!

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;End&nbsp;List_Priqueue.&nbsp;*)</span><br/>
</div>

<div class="doc">
<a id="lab230"></a><h2 class="section">Some Preliminaries</h2>

<div class="paragraph"> </div>

 A copy of the <span class="inlinecode"><span class="id" title="var">select</span></span> function from Selection.v, but 
    getting the max element instead of the min element: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="List_Priqueue.select" class="idref" href="#List_Priqueue.select"><span class="id" title="definition">select</span></a> (<a id="i:45" class="idref" href="#i:45"><span class="id" title="binder">i</span></a>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:46" class="idref" href="#l:46"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
<span class="id" title="keyword">match</span> <a class="idref" href="Priqueue.html#l:46"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
|  <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#i:45"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
|  <span class="id" title="var">h</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">t</span> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="Priqueue.html#i:45"><span class="id" title="variable">i</span></a> <a class="idref" href="Perm.html#911767defbca4d8b1a0af5b4111529f<sub>1</sub>"><span class="id" title="notation">&gt;=?</span></a> <span class="id" title="var">h</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">let</span> (<a id="j:51" class="idref" href="#j:51"><span class="id" title="binder">j</span></a>, <a id="l':52" class="idref" href="#l':52"><span class="id" title="binder">l'</span></a>) := <a class="idref" href="Priqueue.html#select:47"><span class="id" title="definition">select</span></a> <a class="idref" href="Priqueue.html#i:45"><span class="id" title="variable">i</span></a> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#j:51"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">h</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="Priqueue.html#l':52"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">let</span> (<a id="j:49" class="idref" href="#j:49"><span class="id" title="binder">j</span></a>,<a id="l':50" class="idref" href="#l':50"><span class="id" title="binder">l'</span></a>) := <a class="idref" href="Priqueue.html#select:47"><span class="id" title="definition">select</span></a> <span class="id" title="var">h</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#j:49"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Priqueue.html#i:45"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="Priqueue.html#l':50"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<a id="lab231"></a><h4 class="section">Exercise: 3 stars, standard (select_perm_and_friends)</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.select_perm" class="idref" href="#List_Priqueue.select_perm"><span class="id" title="lemma">select_perm</span></a>: <span class="id" title="keyword">∀</span> <a id="i:53" class="idref" href="#i:53"><span class="id" title="binder">i</span></a> <a id="l:54" class="idref" href="#l:54"><span class="id" title="binder">l</span></a>, <br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="j:55" class="idref" href="#j:55"><span class="id" title="binder">j</span></a>,<a id="r:56" class="idref" href="#r:56"><span class="id" title="binder">r</span></a>) := <a class="idref" href="Priqueue.html#List_Priqueue.select"><span class="id" title="definition">select</span></a> <a class="idref" href="Priqueue.html#i:53"><span class="id" title="variable">i</span></a> <a class="idref" href="Priqueue.html#l:54"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> (<a class="idref" href="Priqueue.html#i:53"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="Priqueue.html#l:54"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Priqueue.html#j:55"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="Priqueue.html#r:56"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="comment">(*&nbsp;Copy&nbsp;your&nbsp;proof&nbsp;from&nbsp;Selection.v,&nbsp;and&nbsp;change&nbsp;one&nbsp;character.&nbsp;*)</span><br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span>; <span class="id" title="var">revert</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.select_biggest_aux" class="idref" href="#List_Priqueue.select_biggest_aux"><span class="id" title="lemma">select_biggest_aux</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:57" class="idref" href="#i:57"><span class="id" title="binder">i</span></a> <a id="al:58" class="idref" href="#al:58"><span class="id" title="binder">al</span></a> <a id="j:59" class="idref" href="#j:59"><span class="id" title="binder">j</span></a> <a id="bl:60" class="idref" href="#bl:60"><span class="id" title="binder">bl</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:61" class="idref" href="#x:61"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="Priqueue.html#j:59"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="Priqueue.html#x:61"><span class="id" title="variable">x</span></a>) <a class="idref" href="Priqueue.html#bl:60"><span class="id" title="variable">bl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#List_Priqueue.select"><span class="id" title="definition">select</span></a> <a class="idref" href="Priqueue.html#i:57"><span class="id" title="variable">i</span></a> <a class="idref" href="Priqueue.html#al:58"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#j:59"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Priqueue.html#bl:60"><span class="id" title="variable">bl</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#j:59"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="Priqueue.html#i:57"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="comment">(*&nbsp;Copy&nbsp;your&nbsp;proof&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">select_smallest_aux</span></span>&nbsp;from&nbsp;Selection.v,&nbsp;and&nbsp;edit.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="List_Priqueue.select_biggest" class="idref" href="#List_Priqueue.select_biggest"><span class="id" title="lemma">select_biggest</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:62" class="idref" href="#i:62"><span class="id" title="binder">i</span></a> <a id="al:63" class="idref" href="#al:63"><span class="id" title="binder">al</span></a> <a id="j:64" class="idref" href="#j:64"><span class="id" title="binder">j</span></a> <a id="bl:65" class="idref" href="#bl:65"><span class="id" title="binder">bl</span></a>, <a class="idref" href="Priqueue.html#List_Priqueue.select"><span class="id" title="definition">select</span></a> <a class="idref" href="Priqueue.html#i:62"><span class="id" title="variable">i</span></a> <a class="idref" href="Priqueue.html#al:63"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#j:64"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Priqueue.html#bl:65"><span class="id" title="variable">bl</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:66" class="idref" href="#x:66"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="Priqueue.html#j:64"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="Priqueue.html#x:66"><span class="id" title="variable">x</span></a>) <a class="idref" href="Priqueue.html#bl:65"><span class="id" title="variable">bl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="comment">(*&nbsp;Copy&nbsp;your&nbsp;proof&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">select_smallest</span></span>&nbsp;from&nbsp;Selection.v,&nbsp;and&nbsp;edit.&nbsp;*)</span><br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">al</span>; <span class="id" title="var">revert</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">al</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">admit</span>.<br/>
<span class="id" title="var">bdestruct</span> (<span class="id" title="var">i</span> <a class="idref" href="Perm.html#911767defbca4d8b1a0af5b4111529f<sub>1</sub>"><span class="id" title="notation">&gt;=?</span></a> <span class="id" title="var">a</span>).<br/>
×<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="Priqueue.html#List_Priqueue.select"><span class="id" title="definition">select</span></a> <span class="id" title="var">i</span> <span class="id" title="var">al</span>) <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab232"></a><h2 class="section">The Program</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="List_Priqueue.key" class="idref" href="#List_Priqueue.key"><span class="id" title="definition">key</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="List_Priqueue.priqueue" class="idref" href="#List_Priqueue.priqueue"><span class="id" title="definition">priqueue</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.key"><span class="id" title="definition">key</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="List_Priqueue.empty" class="idref" href="#List_Priqueue.empty"><span class="id" title="definition">empty</span></a> : <a class="idref" href="Priqueue.html#List_Priqueue.priqueue"><span class="id" title="definition">priqueue</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="List_Priqueue.insert" class="idref" href="#List_Priqueue.insert"><span class="id" title="definition">insert</span></a>  (<a id="k:67" class="idref" href="#k:67"><span class="id" title="binder">k</span></a>: <a class="idref" href="Priqueue.html#List_Priqueue.key"><span class="id" title="definition">key</span></a>)(<a id="p:68" class="idref" href="#p:68"><span class="id" title="binder">p</span></a>: <a class="idref" href="Priqueue.html#List_Priqueue.priqueue"><span class="id" title="definition">priqueue</span></a>) := <a class="idref" href="Priqueue.html#k:67"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="Priqueue.html#p:68"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="List_Priqueue.delete_max" class="idref" href="#List_Priqueue.delete_max"><span class="id" title="definition">delete_max</span></a> (<a id="p:69" class="idref" href="#p:69"><span class="id" title="binder">p</span></a>: <a class="idref" href="Priqueue.html#List_Priqueue.priqueue"><span class="id" title="definition">priqueue</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Priqueue.html#p:69"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">p'</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Priqueue.html#List_Priqueue.select"><span class="id" title="definition">select</span></a> <span class="id" title="var">i</span> <span class="id" title="var">p'</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="List_Priqueue.merge" class="idref" href="#List_Priqueue.merge"><span class="id" title="definition">merge</span></a> (<a id="p:71" class="idref" href="#p:71"><span class="id" title="binder">p</span></a> <a id="q:72" class="idref" href="#q:72"><span class="id" title="binder">q</span></a>: <a class="idref" href="Priqueue.html#List_Priqueue.priqueue"><span class="id" title="definition">priqueue</span></a>) : <a class="idref" href="Priqueue.html#List_Priqueue.priqueue"><span class="id" title="definition">priqueue</span></a> := <a class="idref" href="Priqueue.html#p:71"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="Priqueue.html#q:72"><span class="id" title="variable">q</span></a>.<br/>
</div>

<div class="doc">
<a id="lab233"></a><h1 class="section">Predicates on Priority Queues</h1>

<div class="paragraph"> </div>

<a id="lab234"></a><h2 class="section">The Representation Invariant</h2>

<div class="paragraph"> </div>

 In this implementation of priority queues as unsorted lists,
    the representation invariant is trivial. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="List_Priqueue.priq" class="idref" href="#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> (<a id="p:73" class="idref" href="#p:73"><span class="id" title="binder">p</span></a>: <a class="idref" href="Priqueue.html#List_Priqueue.priqueue"><span class="id" title="definition">priqueue</span></a>) := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>.<br/>
</div>

<div class="doc">
The abstraction relation is trivial too. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="List_Priqueue.Abs'" class="idref" href="#List_Priqueue.Abs'"><span class="id" title="inductive">Abs'</span></a>:  <a class="idref" href="Priqueue.html#List_Priqueue.priqueue"><span class="id" title="definition">priqueue</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> := <br/>
<a id="List_Priqueue.Abs_intro" class="idref" href="#List_Priqueue.Abs_intro"><span class="id" title="constructor">Abs_intro</span></a>: <span class="id" title="keyword">∀</span> <a id="p:76" class="idref" href="#p:76"><span class="id" title="binder">p</span></a>, <a class="idref" href="Priqueue.html#Abs':74"><span class="id" title="inductive">Abs'</span></a> <a class="idref" href="Priqueue.html#p:76"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#p:76"><span class="id" title="variable">p</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="List_Priqueue.Abs" class="idref" href="#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> := <a class="idref" href="Priqueue.html#List_Priqueue.Abs'"><span class="id" title="inductive">Abs'</span></a>.<br/>
</div>

<div class="doc">
<a id="lab235"></a><h2 class="section">Sanity Checks on the Abstraction Relation</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.can_relate" class="idref" href="#List_Priqueue.can_relate"><span class="id" title="lemma">can_relate</span></a> : <span class="id" title="keyword">∀</span> <a id="p:77" class="idref" href="#p:77"><span class="id" title="binder">p</span></a>, <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#p:77"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="al:78" class="idref" href="#al:78"><span class="id" title="binder">al</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Priqueue.html#p:77"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#al:78"><span class="id" title="variable">al</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
When the <span class="inlinecode"><span class="id" title="var">Abs</span></span> relation says, "priority queue <span class="inlinecode"><span class="id" title="var">p</span></span> contains elements <span class="inlinecode"><span class="id" title="var">al</span></span>",
   it is free to report the elements in any order.  It could even relate <span class="inlinecode"><span class="id" title="var">p</span></span>
   to two different lists <span class="inlinecode"><span class="id" title="var">al</span></span> and <span class="inlinecode"><span class="id" title="var">bl</span></span>, as long as one is a permutation of
   the other.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.abs_perm" class="idref" href="#List_Priqueue.abs_perm"><span class="id" title="lemma">abs_perm</span></a>: <span class="id" title="keyword">∀</span> <a id="p:79" class="idref" href="#p:79"><span class="id" title="binder">p</span></a> <a id="al:80" class="idref" href="#al:80"><span class="id" title="binder">al</span></a> <a id="bl:81" class="idref" href="#bl:81"><span class="id" title="binder">bl</span></a>, <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Priqueue.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#al:80"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Priqueue.html#p:79"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#bl:81"><span class="id" title="variable">bl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Priqueue.html#al:80"><span class="id" title="variable">al</span></a> <a class="idref" href="Priqueue.html#bl:81"><span class="id" title="variable">bl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="var">inv</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="var">inv</span> <span class="id" title="var">H<sub>1</sub></span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation_refl"><span class="id" title="lemma">Permutation_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab236"></a><h2 class="section">Characterizations of the Operations on Queues</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.empty_priq" class="idref" href="#List_Priqueue.empty_priq"><span class="id" title="lemma">empty_priq</span></a>: <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.empty_relate" class="idref" href="#List_Priqueue.empty_relate"><span class="id" title="lemma">empty_relate</span></a>:  <a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.insert_priq" class="idref" href="#List_Priqueue.insert_priq"><span class="id" title="lemma">insert_priq</span></a>: <span class="id" title="keyword">∀</span> <a id="k:82" class="idref" href="#k:82"><span class="id" title="binder">k</span></a> <a id="p:83" class="idref" href="#p:83"><span class="id" title="binder">p</span></a>, <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#p:83"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> (<a class="idref" href="Priqueue.html#List_Priqueue.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Priqueue.html#k:82"><span class="id" title="variable">k</span></a> <a class="idref" href="Priqueue.html#p:83"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.insert_relate" class="idref" href="#List_Priqueue.insert_relate"><span class="id" title="lemma">insert_relate</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:84" class="idref" href="#p:84"><span class="id" title="binder">p</span></a> <a id="al:85" class="idref" href="#al:85"><span class="id" title="binder">al</span></a> <a id="k:86" class="idref" href="#k:86"><span class="id" title="binder">k</span></a>, <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#p:84"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Priqueue.html#p:84"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#al:85"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> (<a class="idref" href="Priqueue.html#List_Priqueue.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Priqueue.html#k:86"><span class="id" title="variable">k</span></a> <a class="idref" href="Priqueue.html#p:84"><span class="id" title="variable">p</span></a>) (<a class="idref" href="Priqueue.html#k:86"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="Priqueue.html#al:85"><span class="id" title="variable">al</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Priqueue.html#List_Priqueue.insert"><span class="id" title="definition">insert</span></a>. <span class="id" title="var">inv</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.delete_max_Some_priq" class="idref" href="#List_Priqueue.delete_max_Some_priq"><span class="id" title="lemma">delete_max_Some_priq</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:87" class="idref" href="#p:87"><span class="id" title="binder">p</span></a> <a id="q:88" class="idref" href="#q:88"><span class="id" title="binder">q</span></a> <a id="k:89" class="idref" href="#k:89"><span class="id" title="binder">k</span></a>, <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#p:87"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.delete_max"><span class="id" title="definition">delete_max</span></a> <a class="idref" href="Priqueue.html#p:87"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#k:89"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Priqueue.html#q:88"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#q:88"><span class="id" title="variable">q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab237"></a><h4 class="section">Exercise: 2 stars, standard (simple_priq_proofs)</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.delete_max_None_relate" class="idref" href="#List_Priqueue.delete_max_None_relate"><span class="id" title="lemma">delete_max_None_relate</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:90" class="idref" href="#p:90"><span class="id" title="binder">p</span></a>, <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#p:90"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Priqueue.html#p:90"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.delete_max"><span class="id" title="definition">delete_max</span></a> <a class="idref" href="Priqueue.html#p:90"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.delete_max_Some_relate" class="idref" href="#List_Priqueue.delete_max_Some_relate"><span class="id" title="lemma">delete_max_Some_relate</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="p:91" class="idref" href="#p:91"><span class="id" title="binder">p</span></a> <a id="q:92" class="idref" href="#q:92"><span class="id" title="binder">q</span></a>: <a class="idref" href="Priqueue.html#List_Priqueue.priqueue"><span class="id" title="definition">priqueue</span></a>) <a id="k:93" class="idref" href="#k:93"><span class="id" title="binder">k</span></a> (<a id="pl:94" class="idref" href="#pl:94"><span class="id" title="binder">pl</span></a> <a id="ql:95" class="idref" href="#ql:95"><span class="id" title="binder">ql</span></a>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.key"><span class="id" title="definition">key</span></a>), <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#p:91"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Priqueue.html#p:91"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#pl:94"><span class="id" title="variable">pl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#List_Priqueue.delete_max"><span class="id" title="definition">delete_max</span></a> <a class="idref" href="Priqueue.html#p:91"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Priqueue.html#k:93"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Priqueue.html#q:92"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Priqueue.html#q:92"><span class="id" title="variable">q</span></a> <a class="idref" href="Priqueue.html#ql:95"><span class="id" title="variable">ql</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Priqueue.html#pl:94"><span class="id" title="variable">pl</span></a> (<a class="idref" href="Priqueue.html#k:93"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="Priqueue.html#ql:95"><span class="id" title="variable">ql</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#ge"><span class="id" title="definition">ge</span></a> <a class="idref" href="Priqueue.html#k:93"><span class="id" title="variable">k</span></a>) <a class="idref" href="Priqueue.html#ql:95"><span class="id" title="variable">ql</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.merge_priq" class="idref" href="#List_Priqueue.merge_priq"><span class="id" title="lemma">merge_priq</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:96" class="idref" href="#p:96"><span class="id" title="binder">p</span></a> <a id="q:97" class="idref" href="#q:97"><span class="id" title="binder">q</span></a>, <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#p:96"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#q:97"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> (<a class="idref" href="Priqueue.html#List_Priqueue.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="Priqueue.html#p:96"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#q:97"><span class="id" title="variable">q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="List_Priqueue.merge_relate" class="idref" href="#List_Priqueue.merge_relate"><span class="id" title="lemma">merge_relate</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:98" class="idref" href="#p:98"><span class="id" title="binder">p</span></a> <a id="q:99" class="idref" href="#q:99"><span class="id" title="binder">q</span></a> <a id="pl:100" class="idref" href="#pl:100"><span class="id" title="binder">pl</span></a> <a id="ql:101" class="idref" href="#ql:101"><span class="id" title="binder">ql</span></a> <a id="al:102" class="idref" href="#al:102"><span class="id" title="binder">al</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#p:98"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Priqueue.html#q:99"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Priqueue.html#p:98"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#pl:100"><span class="id" title="variable">pl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Priqueue.html#q:99"><span class="id" title="variable">q</span></a> <a class="idref" href="Priqueue.html#ql:101"><span class="id" title="variable">ql</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Priqueue.html#List_Priqueue.Abs"><span class="id" title="definition">Abs</span></a> (<a class="idref" href="Priqueue.html#List_Priqueue.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="Priqueue.html#p:98"><span class="id" title="variable">p</span></a> <a class="idref" href="Priqueue.html#q:99"><span class="id" title="variable">q</span></a>) <a class="idref" href="Priqueue.html#al:102"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Priqueue.html#al:102"><span class="id" title="variable">al</span></a> (<a class="idref" href="Priqueue.html#pl:100"><span class="id" title="variable">pl</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="Priqueue.html#ql:101"><span class="id" title="variable">ql</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Priqueue.html#List_Priqueue"><span class="id" title="module">List_Priqueue</span></a>.<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;2020-08-07&nbsp;17:08&nbsp;*)</span><br/>
</div>
</div>

<div id="footer">
<hr/><a href="coqindex.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>